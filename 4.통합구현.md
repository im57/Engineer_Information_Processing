#### 40) 연계 요구사항 분석

- 통합 구현

  : 사용자의 요구사항에 맞춰 송수신 모듈과 중계 모듈 간의 연계를 구현하는 것

  - 구성

    - 송신 시스템과 모듈

      : 데이터를 생성 및 변환하여 전송하는 시스템

      - 송신 모듈 

        전송 데이터를 생성하고 필요에 따라 전송 데이터의 변환 등을 수행

      - 모니터링 기능

        전송 데이터의 생성부터 송신까지의 과정과 송신 상태 등을 확인

    - 수신 시스템과 모듈

      : 수신 받은 데이터를 정제 및 변환하는 시스템

      - 수신 모듈

        수신 데이터를 정제하고 애플리케이션이나 데이터베이스 테이블에 적합한 데이터로 변환하는 작업 등을 수행

      - 모니터링 기능

        수신 모듈과 연계 데이터의 수신 상태, 오류 처리, 데이터 반영 등을 확인

    - 중계 시스템

      : 내외부 시스템 간 또는 내부 시스템 간의 연계 시 사용되는 아키텍처

      - 중계 모듈

        송신 데이터의 오류 처리, 수신 시스템에 맞는 데이터 형식으로의 변환 등을 수행

    - 연계 데이터

      : 송수신 시스템 간 송수신되는 데이터

      - 속성, 길이, 타입 등이 포함
      - 연계 데이터 형식은 크게 데이터베이스 테이블과 데이터베이스 파일로 구분
      - 파일은 text, csv, sml 등으로 구분

    - 네트워크

      : 송신 시스템, 수신 시스템, 중계 시스템을 연결해주는 통신망



- 연계 요구사항 분석

  : 통합 구현을 위해 사용자 요구사항을 분석하고 연계 데이터를 식별 및 표준화하여 연계 데이터를 정의하는 것

  - 절차
    1. 시스템 구성도, 응용 애플리케이션 구성 등을 통해 송수신 시스템의 하드웨어 및 소프트웨어 구성, 네트워크 현황 확인
    2. 송수신 시스템과 연결할 데이터와 관련된 테이블 정의서, 코드 정의서 등의 문서 확인
    3. 확인된 시스템의 구성과 데이터 현황 정보 등을 기반으로 체크리스트 작성
    4. 시스템 구성도, 응용 애플리케이션 구성, 테이블 정의서, 코드 정의서, 체크리스트 등을 사용자, 시스템 관리자 등과 공유하고 인터뷰나 설문조사 실시
    5. 인터뷰나 설문조사를 통해 확인된 결과를 기반으로 요구사항 분석서(정의서) 작성





#### 41) 연계 데이터 식별 및 표준화

- 연계 데이터 식별 및 표준화 절차

  - 연계 범위 및 항목 정의

    : 시스템 간 연계할 정보를 상세화하여 정의

  - 연계 코드 변환 및 매핑

    : 정보로 전화하거나 검색 조건으로 활용하기 위해, 연계 정보 중 코드로 관리되어야 할 항목을 찾아 코드로 변환

  - 연계 데이터 식별자와 변경 구분 추가

    : 송신 시스템에서 송신한 데이터가 수신 시스템에서 어떤 데이터에 해당되는지 확인하기 위해, 수신 시스템의 연계 정보에 송신 시스템의 식별자 추가

  - 연계 데이터 표현 방법 정의

  - 연계 정의서 및 명세서 작성





#### 42) 연계 메커니즘 정의

: 데이터의 생성 및 전송을 담당하는 송신 체계와 데이터 수신 및 운영 DB 반영을 담당하는 수신 체계로 구성

- 송신시스템은 운영 DB로부터 인터페이스 테이블이나 파일 형식으로 연계 데이터를 생성하여 송신
- 수신시스템은 송신시스템으로부터 전송된 데이터를 받아 수신 시스템에 맞는 데이터로 변환한 후 운영 DB에 반영
- 송수신시스템 사이에 데이터의 송수신과 송수신시스템 현황을 모니터링하는 중계시스템 설치 가능



- 직접 연계 방식

  : 중간 매개체 없이 송수신 시스템이 직접 연계

  - 장점

    - 연계 및 통합 구현이 단순하고 용이
    - 데이터 연계 처리 성능이 뛰어남
    - 개발 비용 저렴
    - 개발 기간 짧음

  - 단점

    - 송수신 시스템 간 결합도가 높아 시스템 변경 시 오류 발생 가능
    - 보안을 위한 암호화, 복호화 처리와 비지니스 로직 적용 어려움
    - 연계 및 통합이 가능한 시스템 환경 제한적

  - 종류

    - DB Link

      : DB에서 제공하는 DB Link 객체를 이용

    - API / Open API

      : 데이터를 송신 시스템의 DB에서 읽어와 제공하는 애플리케이션 프로그래밍 인터페이스

    - DB Connection

      : 수신시스템의 WAS에서 송신 시스템의 DB로 연결

    - JDBC

      : Java에서 DB를 접근하여 데이터를 삽입, 조회, 수정, 삭제할 수 있도록 Java와 DB를 연결해주는 방식

- 간접 연계 방식

  : 송수신 시스템 사이에 중간 매개체를 두어 연계하는 방식

  - 장점

    - 다양한 환경의 연계 및 통합이 가능
    - 송수신 시스템 간 인터페이스가 변경되어도 오류 없이 서비스 가능
    - 보안 품질 보장과 비즈니스 처리를 위한 로직을 쉽게 반영 가능

  - 단점

    + 연계 메커니즘과 아키텍처가 복잡
    + 증간 매개체로 인해 성능 저하 가능성
    + 비교적 긴 개발 및 적용 기간

  - 종류

    - 연계 솔루션

      : EAI 서버와 송수신 시스템에 설치되는 클라이언트를 이용하는 방식

    - ESB

      : 애플리케이션 간 연계, 데이터 변환, 웹 서비스 지원 등 표준 기반의 인터페이스를 제공하는 방식

    - Socket

      : 서버는 통신을 위한 소켓을 생성하여 포트를 할당하고 클라이언트의 통신 요청 시 클라이언트와 연결하여 통신하는 네트워크 기술

    - Web Service

      : 웹 서비스에서 WSDL과 UDDI, SOAP 프로토콜을 이용하여 연계하는 방식



- 연계 메커니즘 구성

  - 연계 데이터 생성 및 추출

    : 연계 솔루션과 관계없이 응용 프로그램이나 DB 등 응용 시스템에서 연계 데이터를 생성하고 추출하는 것

    - 오류 발생 시 로그 테이블이나 파일에 기록

  - 코드 매핑 및 데이터 변환

    : 송신 시스템에서 사용하는 코드를 수신 시스템에서 사용하는 코드로 매핑 및 변환하는 것

    - 송신 시스템에서 인터페이스 테이블이나 파일을 생성할 때
    - 수신 시스템에서 수신 받은 연계 데이터를 운영 DB에 반영할 때
    - 연계 서버를 설치할 때(연계 서버에서 수행)

    - 오류 발생 시 로그 테이블이나 파일에 기록

  - 인터페이스 테이블 또는 파일 생성

    : 연계 데이터를 인터페이스 테이블이나 파일 형식으로 생성하는 것

    - 오류 발생 시 로그 테이블이나 파일에 기록

  - 로그 기록

    : 송수신 시스템에서 수행되는 모든 과정에 대한 결과 및 오류에 대한 정보를 로그 테이블이나 파일에 기록하는 것

  - 연계 서버 또는 송수신 어댑터

    : 연계 서버는 송수신 시스템 중 한 곳에 설치하며 인터페이스 테이블 또는 파일의 데이터를 전송 형식에 맞게 변환하고 송수신을 수행하는 등 송수신과 관련된 모든 처리 수행

  - 전송

    : 송신 시스템에서 생성된 연계 데이터를 네트워크 환경에 맞는 데이터로 변환한 후 수신 시스템으로 보내는 것

  - 운영 DB에 연계 데이터 반영

    : 수신된 인터페이스 테이블 또는 파일 구조의 데이터를 변환 프로그램을 이용하여 수신 시스템의 운영 DB에 반영하는 것





#### 43) 연계 장애 및 오류처리 구현

- 연계 메커니즘 구간별 장애 및 오류 모니터링 현황

  - 송신시스템

    - 오류 발생 시점
      - 데이터 생성 및 추출 시
      - 코드 매핑 및 데이터 변환 시
      - 인터페이스 테이블 또는 파일 등록 시
    - 오류 로그 기록 장소
      - 송신 연계 프로그램에서 설정한 로그 및 오류 로그 테이블
    - 오류 로그 기록 주체
      - 별도로 구현한 송신용 연계 프로그램

  - 수신시스템

    - 오류 발생 시점
      - 연계 데이터 로드 시
      - 코드 매핑 및 데이터 변환 시
      - 운영 DB에 반영 시
    - 오류 로그 기록 장소
      - 수신 연계 프로그램에서 설정한 로그 및 오류 로그 테이블 
    - 오류 로그 기록 주체
      + 별도로 구현한 수신용 연계 프로그램

  - 연계서버

    - 오류 발생 시점
      - 연계 데이터 로드 및 전송 형식으로 변환 시
      - 연계 데이터의 송수신 시
      - 수신 시스템의 데이터 형식으로 변환 및 로드 시

    - 오류 로그 기록 장소

      - 연계 서버에 설정된 로그 및 오류 로그 테이블 또는 파일

    - 오류 로그 기록 주체

      연계 서버



- 장애 및 오류 유형과 처리 방안

  | 오류유형                    | 내용                                                         | 예                                                           | 처리방안                                                     |
  | --------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | 송신 시스템의 연계 프로그램 | 데이터 생성 및 추출 권한이 없거나 데이터 변환 시 예외 미처리 등 연계 프로그램 구현 상의 오류 | 등록되지 않은 코드로 매핑 불가능                             | 송수신 연계 프로그램의 로그를 확인하여 원인을 분석한 후 처리하고, 데이터 전송이나 반영을 재작업 |
  | 수신 시스템의 연계 프로그램 | 운영 DB 접근 권한이 없거나 데이터 변환 및 반영 시 예외가 미처리 등 연계 프로그램 구현상의 오류 | 등록된 데이터가 존재하지 않음                                | 송수신 연계 프로그램의 로그를 확인하여 원인을 분석한 후 처리하고, 데이터 전송이나 반영을 재작업 |
  | 연계 서버                   | 연계 서버 실행, 송수신, 전송 형식 변환 등 서버의 기능과 관련된 오류 | - 연계 서버 미작동<br>- 송수신 시스템의 IP 및 Port 접속 불가능 | - 연계 서버를 재시작<br>- 연계 서버의 로그를 확인하여 원인을 분석한 후 처리 |
  | 연계 데이터                 | 송신 시스템에서 생성 및 추출된 데이터의 값이 유효하지 않은 오류 | 유효하지 않은 날짜                                           | 송신 연계 프로그램의 로그를 확인하여 데이터를 보정한 후 재전송 |



- 장애 및 오류의 확인과 처리 절차
  - 1차적으로 연계 서버에서 제공하는 장애 및 오류 현황 모니터링 화면 통해 오류 원인 및 발생 현황 확인
  - 1차에서 확인 불가능한 경우 오류 로그 테이블 또는 파일 확인하여 오류 원인 분석



- 장애 및 오류의 정의와 설계

  - 장애 및 오류 관리 대상

  - 관리 대상의 장애 및 오류 코드와 메세지

  - 장애 및 오류 코드와 메세지 관리 방식

    - 테이블관리방식

      : 관리 대상 오류 코드와 오류 메세지가 많은 경우

    - 파일관리방식

      : 관리 대상 오류 코드와 오류 메세지가 적은 경우

  - 장애 및 오류 기록 방식





#### 44) 연계 데이터 보안 적용

- 전송 구간 보안

  - 전송되는 데이터나 패킷을 쉽게 가로챌 수 없도록 암호화 기능이 포함된 프로토콜을 사용

  - 데이터나 패킷을 가로채더라도 내용을 확인할 수 없게 데이터나 패킷을 암호화

- 데이터 보안

  : 송신 시스템에서 연계 데이터를 추출할 때와 수신 시스템에서 데이터를 운영 DB에 반영할 때 데이터를 암호화 복호화 하는 것

  - 절차
    1. 송신 시스템의 운영 DB에서 연계 데이터를 추출하여 보안 대상 컬럼을 암호화하고 인터페이스 테이블 또는 파일에 등록
    2. 수신 시스템의 인터페이스 테이블 또는 파일의 데이터 중 암호화한 컬럼을 복호화하여 운영 DB에 반영

- 암호화 알고리즘

  : 평문을 암호화된 문장으로 만드는 절차 또는 방법

  - 단방향 암호화 방식

    - 해쉬사용

  - 양방향 암호화 방식

    - 개인키 및 공개키 사용

      ex) SEED, ARIA, DES, AES, RSA 등

- 암호화 복호화 적용

  1. 암호화 적용 대상, 암호화 알고리즘, 암호화 키 선정
  2. 암호화 적용 대상 컬럼의 데이터 길이 변경
  3. 암호화 알고리즘 라이브러리 확보 및 설치
  4. 연계 응용 프로그램에서 암호화 복호화 처리 수행





#### 45) 연계 모듈 구현 환경

 : 연계 메커니즘에 따라 구현된 연계 시스템 환경 및 모듈 구현 환경



- EAI (Enterprise Application Integration)

  : 기업 내 각종 애플리케이션 및 플랫폼 간의 정보 전달, 연계, 통합 등 상호 연동이 가능하게 해주는 솔루션

  - 비즈니스 간 통합 및 연계성을 증대시켜 효율성 및 각 시스템 간의 확정성을 높여줌

  - 유형

    - Point-to-Point

      - 애플리케이션을 1:1로 연결
      - 변경 및 재사용이 어려움

    - Hub & Spoke

      - 단일 접점인 허브 시스템을 통해 데이터를 전송하는 중앙 집중형 방식
      - 확장 및 유지보수 용이
      - 허브 장애 발생 시 시스템 전체에 영향

    - Message Bus

      - 애플리케이션 사이에 미들웨어를 두어 처리
      - 확장성이 뛰어나며 대용량 처리 가능

    - Hybrid

      - Hub & Spoke와 Message Bus의 혼합 방식

      - 그룹 내에서는 Hub & Spoke 방식 사용

      - 그룹 간에는 Message Bus 방식 사용

      - 데이터 병목 현상 최소화

        

- ESB (Enterprise Service Bus)

  : 애플리케이션 간 연계, 데이터 변환, 웹 서비스 지원 등 표준 기반의 인터페이스 제공

  - 애플리케이션보다는 서비스 중심의 통합 지향
  - 특정 서비스에 국한되지 않고 범용적으로 사용하기 위해 애플리케이션과의 결합도를 약하게 유지
  - 관리 및 보안 유지가 쉽고, 높은 수준의 품질 지원 가능



- EAI, ESB 방식 환경 구축 절차
  1. 송수신 시스템에 연계를 위한 DB를 각각 설치하고 계정 생성
  2. 데이터, 인터페이스, 매핑 정보, 오류 코드 등을 저장할 테이블 생성
  3. 트리거 또는 프로그래밍 언어를 이용하여 연계 응용 프로그램 구현



- 웹 서비스

  : 네트워크 정보를 표준화된 서비스 형태로 만들어 공유하는 기술

  - 구성

    - SOAP (Simple Object Access Protocol)

      : HTTP, HTTPS, SMPT 등을 활용하여 XML 기반의 메세지를 네트워크 상에서 교환하는 프로토콜

    - UDDI (Universal Description, Discovery and Integration)

      : WSDL을 등록하여 서비스와 서비스 제공자를 검색하고 접근하는데 사용

    - WSDL (Web Services Description Language)

      : 웹 서비스에 대한 상세 정보를 XML 형식으로 구현



- 웹 서비스 방식 환경 구축 절차
  1. 송수신 시스템에서 연계 파일, 로그 파일, 오류 로그 파일 등이 생성될 위치와 파일명을 정의한 후 디렉터리 생성
  2. 송신 시스템에서 DB로부터 데이터를 추출하여 XML 형식으로 변환하는 연계 응용 프로그램을 구현
  3. WSDL의 내용을 바탕으로 전송된 파일 내용을 수신 시스템 DB애 반영하는 서비스 실행





#### 46) XML

 : 웹 브라우저 간 HTML 문법이 호환되지 않는 문제와 SGML의 복잡함을 해결하기 위해 개발된 다목적 마크업 언어

- 다른 목적의 마크업 언어를 만드는데 사용됨

- 태그 정의 가능

- 트리구조

- 대소문자 구분

- 유니코드 기반으로 다국어 지원

- 구성

  - 첫 문단

    \<?xml version="버전" encoding="언어셋" standalone="yer|no" ?>

  - 요소

    <요소 이름 속성="송성값">내용</요소이름>



- SOAP

  : 컴퓨터 네트워크 상에서 HTTP/HTTPS, SMTP 등을 이용하여 XML을 교환하기 위한 통신 규약

  - 웹서비스에서 사용되는 메세지의 형식과 처리 방법 지정

  - 프록시와 방화벽 영향없이 통신 가능

  - 최근 무거운 SOAP 대신 Restful 프로토콜 이용

  - 주요 요소

    - Envelope

      : XML 문서를 SOAP 메세지로 정의하는 것

      - 메세지에 대한 요소와 접근방법 정의

    - Header

      : SOAP 메세지에 포함되는 웹 서비스 정의

    - Body

      : 실제 SOAP 메세지 포함



- WSDL

  : 웹 서비스와 관련된 서식이나 프로토콜 등을 표준적인 방법으로 기술하고 게시하기 위한 언어

  - XML로 작성되며, UDDI의 기초
  - SOAP, XML 스키마와 결합하여 인터넷에서 웹 서비스를 제공하기 위해 사용
  - 클라이언트는 WSDL 파일을 읽어 서버에서 어떤 조작이 가능한지 파악 가능





#### 47) 연계 테스트

- 구축된 연계 시스템과 연계 시스템의 구성 요소가 정상적으로 동작하는지 확인하는 활동

- 진행

  - 연계 테스트 케이스 작성

    : 연계 시스템 간의 데이터 및 프로세스의 흐름을 분석하여 필요한 테스트 항목을 도출하는 과정

    - 송수신용 연계 응용 프로그램의 단위 테스트 케이스
      - 송수신 시스템에서 확인해야 할 항목 도출
      - 단순 개별 데이터 유효값 확인하는 경우의 수와 데이터 간 연관관계 확인하는 경우의 수로 구분
    - 연계 테스트 케이스
      - 송수신용 연계 응용 프로그램의 기능상 결함을 확인

  - 연계 테스트 환경 구축

    : 테스트의 일정, 방법, 절차, 소요 시간 등을 송수신 기관과의 협의를 통해 결정

  - 연계 테스트 수행

    : 연계 응용 프로그램을 실행하여 연계 테스트 케이스의 시험 항목 처리 및 처리 절차 등을 실제로 진행

    - 단위 테스트 먼저 수행
    - 단위 테스트 수행 완료 후 연계 테스트 수행

  - 연계 테스트 수행 결과 검증

    : 연계 테스트 케이스의 시험 항목 및 처리 절차를 수행한 결과가 예상 결과와 동일한지 확인

    - 테스트 케이스 항목별 검증방법
      - 운영 DB 테이블의 건수 확인
      - 테이블 또는 파일을 열어 데이터 확인
      - 파일 생성 위치에서 파일 생성 여부 및 파일 크기 확인
      - 연계 서버에서 제공하는 모니터링 현황 확인
      - 시스템에서 기록하는 로그 확인