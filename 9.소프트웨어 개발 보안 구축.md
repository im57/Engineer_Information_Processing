#### 82) 소프트웨어 개발 보안

 : 소프트웨어 개발 과정에서 발생할 수 있는 보안 취약점을 최소화하여 보안 위협으로부터 안전한 소프트웨어를 개발하기 위한 일련의 보안 활동

- 소프트웨어 개발 보안은 데이터의 기밀성, 무결성, 가용성을 유지하는 것을 목표로 함

- 소프트웨어 보안 취약점이 발생하는 경우

  - 보안 요구사항이 정의되지 않은 경우
  - 소프트웨어 설계 시 논리적 오류가 포함된 경우
  - 기술 취약점을 갖고 있는 코딩 규칙을 적용한 경우
  - 소프트웨어의 배치가 적절하지 않은 경우
  - 보안 취약점 발견 시 적절하게 대응하지 못한 경우

- 안전한 소프트웨어 개발을 위한 수행 작업

  - 소프트웨어 개발 프로젝트에 참여하는 관련자들의 역할과 책임을 명확히 정의하고 충분한 보안 교육 실시
  - 소프트웨어 개발 생명 주기의 각 단계마다 보안 활동 수행
  - 소프트웨어 개발 보안을 위한 표준 확립
  - 재사용 가능한 보안 모듈을 만들어 유사한 소프트웨어 개발에 사용
  - 새로운 소프트웨어 개발 프로젝트에 사용될 수 있도록 보안 통제의 효과성 검증 실시

- 소프트웨어 개발 보안 관련 기관

  - 행정안전부
    - 소프트웨어 개발 보안 정책을 총괄
    - 소프트웨어 개발 보안 관련 법규, 지침, 제도 정비
    - 소프트웨어 보안 약점을 진단하는 사람의 양성 및 관련 업무 수행
  - 한국인터넷진흥원
    - 소프트웨어 개발 보안 정책 및 가이드 개발
    - 소프트웨어 개발 보안에 대한 기술을 지원하고, 교육과정 및 자격제도 운영
  - 발주기관
    - 소프트웨어 개발 보안의 계획 수립
    - 소프트웨어 개발 보안 사업자 및 감리법인 선정
    - 소프트웨어 개발 보안의 준수 여부 점검
  - 사업자
    - 소프트웨어 개발 보안 관련 기술 수준 및 적용 계획 명시
    - 소프트웨어 개발 보안 관련 인력을 대상으로 교육 실시
    - 소프트웨어 개발 보안 가이드를 참조하여 개발
    - 자체적으로 보안 약점을 진단하고 제거
    - 소프트웨어 보안 약점과 관련된 시정 요구사항 이행
  - 감리법인
    - 감리 계획을 수립하고 협업
    - 소프트웨어 보안 약점의 제거 여부 및 조치 결과 확인

- 소프트웨어 개발 보안 활동 관련 법령

  - 개인정보 보호 법

    : 개인정보의 처리 및 보호에 관한 사항을 정함으로써 개인의 자유와 권리 보호

  - 정보통신망 이용촉진 및 정보보호 등에 관한 법률

    : 정보통신망의 이용 촉진 및 정보 통신 서비스를 이용하는 이용자들의 개인정보 보호

  - 신용정보의 이용 및 보호에 관한 법률

    : 개인 신용정보의 효율적 이용과 체계적인 관리를 통해 정보의 오남용 방지

  - 위치정보의 보호 및 이용 등에 관한 법률

    : 개인 위치 정보의 안전한 이용 환경을 조성하여 정보의 유출이나 오남용 방지

  - 표준 개인정보 보호 지침

    : 개인정보의 처리에 관한 기준, 개인정보 침해의 유형 및 예방조치 등에 관한 세부사항 규정

  - 개인정보이 안전성 확보 조치 기준

    : 개인정보 처리자가 개인정보를 처리하는데 있어 개인정보가 분실, 도난, 유출, 위조, 변조, 훼손되지 않도록 안전성 확보에 필요한 기술적, 관리적, 물리적 안전조치에 관한 최소한의 기준 규정

  - 개인정보 영향평가에 관한 고시

    : 개인정보 영향평가를 위한 평가기관의 지정, 영향평가의 절차 등에 관한 세부기준 규정

- 소프트웨어 개발 보안 활동 관련 기타 규정

  - RFID 프라이버시 보호 가이드라인

    : RFID 시스템의 이용자들의 프라이버시를 보호하고 안전한 RFID 이용 환경을 조성하기 위한 가이드라인

  - 위치정보의 보호 및 이용 등에 관한 법률

    : 개인 위치정보의 유출 및 오남용을 방지하기 위한 법률

  - 위치정보의 관리적. 기술적 보호조치 권고 해설서

    : 개인 위치정보의 누출, 변조, 훼손 등을 방지하기 위해 위치정보 사업자 및 위치기반 서비스 사업자가 준수해야 하는 관리적, 기술적 보호조치의 구체적 기준

  - 바이오정보 보호 가이드라인

    : 개인 바이오정보의 보호와 안전한 활용을 위한 원칙 및 조치사항

  - 뉴미디어 서비스 개인정보 보호 가이드라인

    : 뉴 미디어 서비스 이용 및 제공 시 개인 정보의 침해사고를 예방하기 위한 준수사항





#### 83) Secure SDLC

 : 보안상 안전한 소프트웨어를 개발하기 위해 SDLC에 보안 강화를 위한 프로세스를 포함하는 것

- 요구사항 분석 단계에서의 보안활동

  : 보안 항목에 해당하는 요구사항을 식별하는 작업

- 설계 단계에서의 보안활동

  : 식별된 보안 요구사항들을 소프트웨어 설계서에 반영하고 보안 설계서 작성

  - 네트워크
    - 외부의 사이버 공격으로부터 개발 환경을 보호하기 위해 네트워크를 분리하거나 방화벽 설치
  - 서버
    - 보안이 뛰어난 운영체제를 사용하고, 보안 업데이트, 외부접속에 대한 접근 통제 등 실시
  - 물리적보안
    - 출입통제, 개발 공간 제한, 폐쇄회로 등의 감시설비를 설치
  - 개발 프로그램
    - 허가되지 않은 프로그램을 통제하고 지속적인 데이터 무결성 검사 실시

- 구현 단계에서의 보안활동

  : 표준 코딩 정의서 및 소프트웨어 개발 보안 가이드를 준수하며, 설계서에 따라 보안 요구사항 구현

  - 지속적 단위 테스트를 통해 소프트웨어에 발생할 수 있는 보안 취약점 최소화

  - 코드 점검 및 코드 진단 작업을 통해 소스 코드의 안정성 확보

  - 시큐어 코딩

    : 보안요소를 고려하여 코딩하는 것

- 테스트 단계에서의 보안활동

  : 설계 단계에서 작성한 보안 설계서를 바탕으로 보안 사항들이 정확히 반영되고 동작하는지 점검

- 유지보수 단계에서의 보안활동

  : 이전 과정을 모두 수행했음에도 발생할 수 있는 보안 사고들을 식별하고 사고 발생 시 이를 해결하고 보안 패치 실시

- 보안 요소

  : 소프트웨어 개발에 있어 충족해야할 요소 및 요건

  - 기밀성

    : 시스템의 정보와 자원은 인가된 사용자에게만 접근 허용

    - 정보가 전송중에 노출되더라도 데이터를 읽을 수 없음

  - 무결성

    : 시스템 내의 정보는 오직 인가된 사용자만 수정가능

  - 가용성

    : 인가받은 사용자는 언제라도 사용가능

  - 인증

    : 시스템 내의 정보와 자원을 사용하려는 사용자가 합법적인 사용자인지 확인하는 모든 행위

    ex) 패스워드, 인증용 카드, 지문 검사

  - 부인 방지

    : 데이터를 송수신한 자가 송수신 사실을 부인할 수 없도록 송수신한 증거 제공





#### 84) 세션 통제

: 세션은 서버와 클라이언트의 연결을 의미하고, 세션 통제는 세션의 연결과 연결로 인해 발생하는 정보를 관리하는 것

- 요구사항 분석 및 설계 단계에서 진단해야 하는 보안 점검 내용

- 불충분한 세션 관리

  : 일정한 규칙이 존재하는 세션ID가 발급되거나 타임아웃이 너무 길게 설정되어 있는 경우 발생할 수 있는 보안 약점

  - 세션 하이재킹 공격 발생 가능

- 잘못된 세션에 의한 정보 노출

  : 다중 스레드 환경에서 멤버 변수에 정보를 저장할 때 발생하는 보안 약점

  - 지역변수를 활용하여 변수의 범위를 제한함으로 방지 가능

- 세션 설계 시 고려사항

  - 시스템의 모든 페이지에서 로그아웃 가능하도록 UI구성
  - 로그아웃 요청 시 세션 완전히 제거
  - 타임아웃 적절히 설정
  - 이전 세션 종료해야 새 세션 생성하게 설계
  - 패스워드 변경 시 활성화된 세션 삭제하고 재할당

- 세션 ID 관리 방법

  - 안전한 서버에서 최소 128비트 길이로 생성
  - 예측 불가능하도록 안전한 난수 알고리즘 적용
  - URL Rewrite 기능을 사용하지 않는 방향으로 설계
  - 로그인 시 로그인 전 세션ID 삭제하고 재할당
  - 장시간 접속하고 있는 세션 ID는 주기적으로 재할당되도록 설계





#### 85) 입력 데이터 검증 및 표현

 : 입력 데이터로 인해 발생하는 문제들을 예방하기 위해 구현 단계에서 검증해야하는 보안 점검 항목

- 보안 약점

  - SQL 삽입

    : 입력란에 SQL을 삽입하여 무단으로 DB를 조회하거나 조작하는 보안약점

    - 입력데이터에 특수문자 입력되지 않게 필터링하여 방지

  - 경로 조작 및 자원 삽입

    : 데이터 입출력 경로를 조작하여 서버 자원을 수정 삭제할 수 있는 보안약점

    - 경로 순회공격을 막는 필터 사용하여 방지

  - 크로스사이트스크립팅(XSS)

    : 웹페이지에 악의적인 스크립트를 삽입하여 방문자들의 정보를 탈취하거나 비정상적인 기능 수행을 유발하는 보안약점

    - HTML의 태그 사용을 제한하거나 < > & 등의 문자를 다른 문자로 치환하여 방지

  - 운영체제 명령어 삽입

    : 외부 입력 값을 통해 시스템 명령어의 실행을 유도함으로 권한을 탈취하거나 시스템 장애를 유발하는 보안 약점

    - 웹 인터페이스를 통해 시스템 명령어가 전달되지 않도록 하고, 외부 입력값을 검증 없이 내부 명령어로 사용하지 않음으로 방지

  - 위험한 형식 파일 업로드

    : 악의적인 명령어가 포함된 스크립트 파일을 업로드함으로 시스템에 손상을 주거나 시스템을 제어할 수 있는 보안 약점

    - 업로드되는 파일 확장자 제한, 파일명 암호화, 웹사이트와 파일 서버 경로 분리, 실행 속성 제거하여 방지

  - 신뢰되지 않는 URL 주소로 자동접속 연결

    : 입력 값으로 사이트 주소를 받는 경우 이를 조작하여 방문자를 피싱 사이트로 유도하는 보안약점

    - 연결하는 외부 사이트의 주소를 화이트 리스트로 관리하여 방지





#### 86) 보안 기능

 : 소프트웨어 개발의 구현 단계에서 코딩하는 기능인 인증, 접근제어, 기밀성, 암호화 등을 올바르게 구현하기 위한 보안 점검 항목들

- 보안 약점

  - 적절한 인증 없이 중요 기능 허용

    : 보안 검사를 우회하여 인증과정 없이 중요한 정보 또는 기능에 접근 및 변경 가능

    - 중요정보나 기능을 수행하는 페이지에서는 재인증 기능 수행하여 방지

  - 부적절한 인가

    : 접근제어 기능이 없는 실행경로를 통해 정보 또는 권한 탈취 가능

    - 모든 실행경로에 대해 접근제어 검사를 수행하고 사용자에게 반드시 필요한 접근 권한만 부여하여 방지

  - 중요한 자원에 대한 잘못된 권한 설정

    : 권한 설정이 잘못된 자원에 접근하여 해당 자원을 임의로 사용 가능

    - 소프트웨어 관리자만 자원을 읽고 쓸 수 있도록 설정하고, 인가되지 않은 사용자의 중요 자원에 대한 접근 여부 검사하여 방지

  - 취약한 암호화 알고리즘 사용

    : 암호화된 환경설정 파일을 해독하여 비밀번호 등 중요정보 탈취 가능

    - 안전한 암호화 알고리즘 이용하여 방지

  - 중요정보 평문 저장 및 전송

    : 암호화되지 않은 평문 데이터를 탈취하여 중요한 정보 획득 가능

    - 중요 정보를 저장하거나 전송할 때는 반드시 암호화 과정 거치도록 하고, HTTPS 또는 SSH같은 보안 채널 이용하여 방지

  - 하드코드된 비밀번호

    : 소스코드 유출 시 내부에 하드코드된 패스워드를 이용하여 관리자 권한 탈취 가능

    - 패스워드는 암호화하여 별도의 파일에 저장하고, 디폴트 패스워드나 디폴트 키 사용 피하여 방지





#### 87) 시간 및 상태

 : 동시 수행을 지원하는 병렬 처리 시스템이나 다수의 프로세스가 동작하는 환경에서 시간과 실행 상태를 관리하여 시스템이 원활하게 동작되도록 하기 위한 보안 검증 항목들

- TOCTOU 경쟁 조건

  : 검사 시점과 사용 시점을 고려하지 않고 코딩하는 경우 발생하는 보안 약점

  - 검사 시점에는 가능했던 자원이 사용 시점에는 사용 불가한 경우 발생
  - 프로세스가 가진 자원 정보와 실제 자원 상태가 일치하지 않는 동기화 오류, 교착 상태등이 발생가능
  - 코드 내에 동기화 구문을 사용하여 해당 자원에는 한 번에 하나의 프로세스만 접근 가능하도록 구성하여 방지

- 종료되지 않는 반복문 또는 재귀함수

  : 반복문이나 재귀함수에서 종료 조건을 정의하지 않았거나 논리 구조상 종료될 수 없는 경우 발생하는 보안약점

  - 반복문이나 재귀함수가 종료되지 않을 경우 시스템 자원이 끊임없이 사용되어 서비스 또는 시스템이 자원고갈로 정지하거나 종료
  - 모든 반복문이나 재귀함수의 수행 횟수를 제한하는 설정을 추가하거나, 종료 조건을 점검하여 반복 또는 호출의 종료 여부를 확인하여 방지





#### 88) 에러처리

 : 소프트웨어 실행 중 발생할 수 있는 오류들을 사전에 정의하여 오류로 인해 발생할 수 있는 문제들을 예방하기 위한 보안 점검 항목들

- 예외처리 구문을 통해 오류에 대한 사항 정의

- 예외처리 구문으로 처리하지 못한 오류들은 중요 정보를 노출시키거나 소프트웨어의 실행이 중단되는 등 예기치 못한 문제 발생 가능

- 오류 메세지를 통한 정보노출

  : 오류 발생으로 실행환경, 사용자정보, 디버깅정보 등의 중요 정보를 소프트웨어가 메세지로 외부에 노출하는 보안 약점

  - 예외처리구문에 예외의 이름이나 스택 트레이스를 출력하도록 코딩한 경우 해커는 소프트웨어의 내부구조를 쉽게 파악 가능
  - 오류 발생 시 가능한 한 내부에서만 처리되도록 하거나 메세지를 출력할 경우 최소한의 정보 또는 사전에 준비된 메세지만 출력되도록하여 방지

- 오류 상황 대응 부재

  : 소프트웨어 개발 중 예외처리를 하지 않았거나 미비로 인해 발생하는 보안 약점

  - 예외 처리를 하지 않은 오류들로 안해 소프트웨어의 실행이 중단되거나 의도를 벗어난 동작 유도 가능
  - 오류 발생가능 부분에 예외처리 구문 작성하고, 제어문을 활용하여 오류가 악용되지 않도록 코딩하여 방지

- 부적절한 예외처리

  : 함수의 반환값 또는 오류들을 세분화하여 처리하지 않고 광범위하게 묶어 한 번에 처리하거나, 누락된 예외가 존재할 때 발생하는 보안 약점

  - 모든 함수의 반환 값이 의도대로 출력되는지 확인하고, 세분화된 예외 처리를 수행하여 방지





#### 89) 코드 오류

 : 소프트웨어 구현 단계에서 개발자들이 코딩 중 실수하기 쉬운 형 변환, 자원 반환 등의 오류를 예방하기 위한 보안 점검 항목들

- 널 포인터 역참조

  : 널 포인터가 가리키는 메모리에 어떠한 값을 저장할 때 발생하는 보안 약점

  - 널이 될 수 있는 포인터를 이용하기 전에 널 값을 갖고 있는지 검사하여 방지

- 부적절한 자원 해제

  : 자원을 반환하는 코드를 누락하거나 프로그램 오류로 할당된 자원을 반환하지 못했을 때 발생하는 보안 약점

  - 힙 메모리, 소켓 등의 유한한 시스템 자원이 계속 점유하고 있으면 자원 부족으로 인해 새로운 입력을 처리하지 못할 수 있음
  - 프로그램 내에 자원 반환 코드가 누락되었는지 확인하고, 오류로 인해 함수가 중간에 종료되었을 때 예외처리에 관계없이 자원이 반환되도록 코딩하여 방지

- 해제된 자원 사용

  : 이미 사용이 종료되어 반환된 메모리를 참조하는 경우 발생하는 보안 약점

  - 반환된 메모리에 접근할 수 없도록 주소를 저장하고 있는 포인터 초기화하여 방지

- 초기화되지 않은 변수 사용

  : 변수 선언 후 값이 부여되지 않은 변수를 사용할 때 발생하는 보안 약점

  - 변수 선언 시 할당된 메모리 초기화하여 방지





#### 90) 캡슐화

 : 정보 은닉이 필요한 중요한 데이터와 기능을 불충분하게 캡슐화하거나 잘못 사용함으로써 발생할 수 있는 문제를 예방하기 위한 보안 점검 항목

- 잘못된 세션에 의한 정보 노출

  : 다중 스레드 환경에서 멤버 변수에 정보를 저장할 때 발생하는 보안 약점

  - 싱글톤 패턴에서 발생하는 레이스컨디션으로 인해 동기화 오류가 발생하거나 멤버 변수의 정보가 노출될 수 있음

  - 멤버 변수보다 지역 변수를 활용하여 변수의 범위 제한하여 방지

- 제거되지 않고 남은 디버그 코드

  : 개발 중에 버그 수정이나 결과 값 확인을 위해 남겨둔 코드들로 인해 발생하는 보안 약점

  - 소프트웨어 제어에 사용되는 중요 정보가 디버그 코드로 인해 노출될 수 있음

  - 소프트웨어 배포 전 코드 검사를 통해 남아있는 디버그 코드를 삭제함으로 방지

- 시스템 데이터 정보 노출

  : 시스템의 내부 정보를 시스템 메세지 등을 통해 외부로 출력하도록 코딩했을 때 발생하는 보안 약점

  - 시스템 메세지를 통해 노출되는 메세지는 최소한의 정보만 제공함으로 방지

- Public 메소드로부터 반환된 Private 배열

  : 선언된 클래스 내에서만 접근 가능한 Private 배열을 모든 클래스에서 접근이 가능한 Public 메소드에서 반환할 때 발생하는 보안 약점

  - Public 메소드가  Private 배열을 반환하면 배열의 주소가 외부로 공개되어 외부에서 접근 가능해짐
  - Private 배열을 별도의 메소드를 통해 조작하거나 동일한 형태의 복제본으로 반환받은 후 값 전달

- Private 배열에 Public 데이터 할당

  : Private 배열에 Public으로 선언된 데이터 또는 메소드의 파라미터르르 저장할 때 발생하는 보안 약점

  - Private 배열에 Public 데이터를 저장하면 Private 배열을 외부에서 접근 가능해짐
  - Public으로 선언된 데이터를 Private 배열에 저장할 때 레퍼런스가 아닌 값을 직접 저장함으로 방지





#### 91) API 오용

 : 소프트웨어 구현 단계에서 API를 잘못 사용하거나 보안에 취약한 API를 사용하지 않도록 하기 위한 보안 검증 항목들

- DNS Lookup에 의존한 보안 결정

  : 도메인명에 의존하여 인증이나 접근 통제 등의 보안 결정을 내리는 경우 발생하는 보안 약점

  - DNS 검색을 통해 도메인 이름을 비교하지 않고 IP 주소를 직접 입력하여 접근함으로 방지

- 취약한 API 사용

  : 보안문제로 사용이 금지된 API를 사용하거나, 잘못된 방식으로 API를 사용했을 때 발생하는 보안 약점

  - 보안상 안전한 API라고 하더라도 보안에 위협을 줄 수 있는 인터페이스를 사용하는 경우 보안 약점 노출

  - 보안 문제로 금지된 함수는 안전한 함수로 대체하고, API 메뉴얼을 참고하여 보안이 보장되는 인터페이스를 사용하여 방지





#### 92) 암호 알고리즘

 : 중요정보를 보호하기 위해 평문을 암호화된 문장으로 만드는 절차 또는 방법

- 해시를 사용하는 단방향 암호화 방식과, 개인키 및 공개키로 분류되는 양방향 암호화 방식으로 분류

- 개인키 암호화 기법

  : 동일한 키로 데이터를 암호화하고 복호화

  = 대칭 암호 기법 = 단일키 암호화 기법

  - 블록 암호화 방식

    : 한번에 하나의 데이터 블록 암호화

    ex) DES, SEED, AES, ARIA

  - 스트림 암호화 방식

    : 평문과 동일한 길이의 스트림을 생성하여 비트 단위로 암호화

    ex) LFSR, RC4

  - 장점

    - 암호화/복호화 속도가 빠름
    - 알고리즘이 단순
    - 공개키 암호 기법보다 파일 크기 작음

  - 단점

    - 사용자의 증가에 따라 관리해야 할 키의 수가 상대적으로 많아짐

- 공개키 암호화 기법

  : 데이터를 암호화할 때 사용하는 공개키는 데이터베이스 사용자에게 공개하고, 복호화할 때의 비밀키는 관리자가 비밀리에 관리

  = 비대칭 암호 기법

  ex) RSA

  - 장점
    - 키의 분배 용이
    - 관리해야 할 키 개수 적음
  - 단점
    - 암호화/복호화 속도 느림
    - 알고리즘 복잡
    - 개인키 암호화 기법보다 파일 크기 큼

- 양방향 알고리즘 종류

  - SEED
    - 1999년 한국인터넷진흥원에서 개발한 블록 암호화 알고리즘
    - 블록 크기는 128비트이며, 키 길이에 따라 128,256으로 분류
  - ARIA
    - 2004년 국가정보원과 산한연협회가 개발한 블록 암호화 알고리즘
    - 블록 크기는 128비트이며, 키 길이에 따라 128,192,256으로 분류
  - DES
    - 1975년 미국 NBS에서 발표한 개인키 암호화 알고리즘
    - 블록 크기는 64비트이며, 키 길이는 56비트
  - AES
    - 2001년 미국 표준 기술 연구소에서 발표한 개인키 암호화 알고리즘
    - 블록 크기는 128비트이며, 키 길이에 따라 128,192,256으로 분류
  - RSA
    - 1978년 MIT의 라이베스트, 샤미르, 애들먼에 의해 제안된 공개키 암호화 알고리즘
    - 큰 숫자를 소인수 분해하기 어렵다는 것에 기반하여 만들어짐
    - 공개키와 비밀키를 사용하는데, 여기서 키란 메세지를 열고 잠그는 상수를 의미

- 해시

  : 임의의 길이의 입력 데이터나 메세지를 고정된 길이의 값이나 키로 변환하는 것

  - 데이터의 암호화, 무결성 검증을 위해 사용될 뿐만 아니라 정보보호의 다양한 분야에서 활용

    ex) SHA, MD5, N-NASH, SNEFRU 등

